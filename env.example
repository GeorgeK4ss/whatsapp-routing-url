# WhatsApp Geo Redirect Service Configuration
# Copy this file to .env and update the values

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Admin access token (minimum 16 characters, use a strong random string)
ADMIN_TOKEN=your_super_secure_admin_token_here_minimum_16_chars

# IPInfo API token for geo-location detection
# Get your free token at: https://ipinfo.io/signup
IPINFO_TOKEN=your_ipinfo_token_here

# =============================================================================
# WHATSAPP NUMBERS (E.164 format without +)
# =============================================================================

# Default WhatsApp number for non-Turkish users
DEFAULT_WHATSAPP_NUMBER=1234567890

# Turkey WhatsApp number (will be prefixed with 90)
TURKEY_WHATSAPP_NUMBER=1234567890

# =============================================================================
# PREFILL TEXTS
# =============================================================================

# Default prefill text for non-Turkish users
DEFAULT_TEXT=Hello! How can I help you?

# Turkey prefill text for Turkish users
TURKEY_TEXT=Merhaba! Size nasıl yardımcı olabilirim?

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL (optional - will use memory fallback if not set)
# Format: redis://username:password@host:port/database
# For Render.com: Will be auto-configured via render.yaml
REDIS_URL=redis://default:password@host:port

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port (default: 3000)
PORT=3000

# Node environment (development, production, test)
NODE_ENV=production

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log file path (default: app.log)
LOG_FILE=app.log

# =============================================================================
# GEO-LOCATION CONFIGURATION
# =============================================================================

# Geo-location cache TTL in seconds (default: 86400 = 24 hours)
GEO_CACHE_TTL=86400

# Geo-location request timeout in milliseconds (default: 5000)
GEO_TIMEOUT=5000

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Rate limit window in milliseconds (default: 900000 = 15 minutes)
RATE_LIMIT_WINDOW=900000

# Maximum requests per window (default: 100)
RATE_LIMIT_MAX=100

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Session secret for secure sessions (use a strong random string)
SESSION_SECRET=your_session_secret_here

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================

# For Render.com deployment:
# 1. Set ADMIN_TOKEN to a strong random string
# 2. Set IPINFO_TOKEN to your IPInfo API token
# 3. REDIS_URL will be auto-configured via render.yaml
# 4. Update WhatsApp numbers via admin interface after deployment
# 5. Test with /wa?force=TR and /wa?force=REST

# For other deployments:
# 1. Set all required environment variables
# 2. Ensure Redis is accessible if using REDIS_URL
# 3. Configure reverse proxy if needed
# 4. Set up monitoring and logging